{% extends "base.html" %}

{% block title %} Maestra de Prestamos {% endblock title %}

{% block content %}

	<div class="MaestraPrestamo" ng-controller="MaestraPrestamosCtrl">

		<mensajeerror> </mensajeerror>
		<mensajeinfo> </mensajeinfo>
		
		<div class="sub-menu">	
				<a href="#" ng-click="toggleLP()">Maestra de Prestamos</a>
			<a class="[[ArrowLP]]" href="#" ng-click="toggleLP()"></a>
		</div>

		<div id="listado" class="listado-maestra-prestamo cssSlideUp" ng-show="showLP" ng-init="listadoPrestamos()">
			
			<section class="listado-reg-prestamos">
				<div class="busqueda-by-field">
					<div class="by-prestamo">
						<span> Prestamo No. </span>
						<input type="text" id="PrestamoNo" ng-model="NoPrestamo" class="doc-no-ei" ng-keypress="buscarPrestamo($event, NoPrestamo)">		
					</div>	
					<div class="by-socio">
						<span> Socio </span>
						<input type="text" id="Socio" ng-model="codigoSocio" placeholder="Codigo de Empleado" ng-keypress="buscarPrestamoBySocio($event, codigoSocio)">
					</div>

					<span class="error-ei"> [[NoFoundDoc]]</span>
					<a href="#" class="[[verTodos]] icon-buscar" ng-click="listadoPrestamos(undefined)">Ver todos</a>

				</div>

				<section class="registrosPanel">
					<table class="listado-table">
						<tr class="listado-table-header">
							<td><input type="checkbox"> </td>
							<td>Estatus</td>
							<td>Prestamo</td>
							<td>Factura</td>
							<td>Codigo</td>
							<td>Socio</td>
							<td>Monto Prestamo</td>
							<td>Tipo Prestamo</td>
							<td>Cancelar</td>
						</tr>

						<tr class="listado-prestamos-detail" ng-repeat="prestamo in prestamos">
							<td><input type="checkbox"> </td>
							<td class="icon-folder-open posteo-N"></td>
							<td><a class="prestamo-field-detalle" href="#" ng-click="PrestamoFullById($event, prestamo.noPrestamo)">[[prestamo.noPrestamo | numberFixedLen : 8]]</a></td>
							<td>[[prestamo.factura | numberFixedLen : 8]]</td>
							<td>[[prestamo.codigoSocio]]</td>
							<td>[[prestamo.socio]]</td>
							<td>[[prestamo.montoInicial | number : 2]]</td>
							<td>[[prestamo.categoriaPrestamo]]</td>
							<td><a href="#" class="icon-delete icon-eliminar"></a> </td>
						</tr>
					</table>
				</section>

				<div class="botones-acciones-prestamos">
					<button class="Boton boton-generar-solicitud-cheque"> Generar Solicitud Cheque</button>
					<button class="Boton boton-postear-prestamos"> Postear Prestamos</button>
					<button class="Boton boton-postear-prestamos-od"> Postear Prestamos por Ordenes</button>	
				</div>
				
			</section>
		</div>

		<section class="detalle-prestamo" ng-hide="showLP">

			<!--DETALLE DEL PRESTAMO-->
			<div class="sub-menu">	
					Detalle del Prestamo
			</div>

			<section class="data-detalle-section">
				<div class="data-detalle-prestamo-header">
					
					<div class="data-detalle-prestamo">
						<span class="prestamo-prestamo-field">Prestamo No.</span>
						<span class="prestamo-categoria-field">Categoria</span>
						<span class="prestamo-representante-field">Representante</span>
					</div>
					
					<div class="data-detalle-prestamo">
						<span><input type="text" class="prestamo-prestamo-field-t" ng-model="dataH.noPrestamo" readonly></span>
						<span><input type="text" class="prestamo-categoria-field-t" ng-model="dataH.categoriaPrestamoDescrp" readonly></span>
						<span><input type="text" class="prestamo-representanteCod-field-t" ng-model="dataH.representanteCod" readonly></span>
						<span><input type="text" class="prestamo-representanteDescrp-field-t" ng-model="dataH.representanteDescrp" readonly></span>
					</div>
					
					<div class="data-detalle-prestamo">
						<span class="prestamo-codigo-field">Codigo</span>
						<span class="prestamo-socio-field">Nombre Socio</span>
						<span class="prestamo-cedula-field">Cedula</span>
						<span class="prestamo-pagarPor-field">Pagar por</span>
					</div>

					<div class="data-detalle-prestamo">
						<span><input type="text" class="prestamo-codigo-field-t" ng-model="dataH.socioCodigo" readonly></span>
						<span><input type="text" class="prestamo-socio-field-t" ng-model="dataH.socioNombre" readonly></span>
						<span><input type="text" class="prestamo-cedula-field-t" ng-model="dataH.socioCedula" readonly></span>
						<span><input type="text" class="prestamo-pagarPor-field-t" ng-model="dataH.pagarPor" readonly></span>
					</div>

					<div class="data-detalle-prestamo">
						<span class="prestamo-oficial-field">Oficial</span>
						<span class="prestamo-localidad-field">Localidad</span>
					</div>
					
					<div class="data-detalle-prestamo">
						<span><input type="text" class="prestamo-oficial-field-t" ng-model="dataH.oficial" readonly></span>
						<span><input type="text" class="prestamo-localidad-field-t" ng-model="dataH.localidad" readonly></span>
					</div>

				</div>
			</section>

			<section class="mas-datos-prestamo-sec">
				<div class="datos-prestamo">
					<div class="datos-prestamo-title">
						<span>Mas datos del prestamo</span>
					</div>

					<table class="datos-prestamo-table">
						<tr>
							<td>Monto Prestamo</td>
							<td><input type="text" ng-model="prestamo.monto" class="align-right"></td>
						</tr>
						<tr>
							<td>Tasa de Interes Anual</td>
							<td><input type="text" ng-model="prestamo.tasaInteresAnual" class="align-right"></td>
						</tr>
						<tr>
							<td>Tasa de Interes Mensual</td>
							<td><input type="text" ng-model="prestamo.tasaInteresMensual" class="align-right"></td>
						</tr>
						<tr>
							<td>Pago Prestamo Anterior</td>
							<td><input type="text" ng-model="prestsamo.pagoPrestamoAnterior" class="align-right"></td>
						</tr>
						<tr>
							<td>Cantidad Cuotas</td>
							<td><input type="text" ng-model="prestamo.cantidadCuotas" class="align-right"></td>
						</tr>
						<tr>
							<td>Monto de Cuota Q1</td>
							<td><input type="text" ng-model="prestamo.montoCuotaQ1" class="align-right"></td>
						</tr>
						<tr>
							<td>Monto de Cuota Q2</td>
							<td><input type="text" ng-model="prestamo.montoCuotaQ2" class="align-right"></td>
						</tr>
					</table>
				</div>


				<div class="garante">
					<div class="garante-title">
						mas...
					</div>

					<table class="garante-table">
						<tr>
							<td>Fecha de Desembolso</td>
							<td><input type="text" ng-model="prestamo.fechaDesembolso"></td>
						</tr>
						<tr>
							<td>Fecha de Entrega</td>
							<td><input type="text" ng-model="prestamo.fechaEntrega"></td>
						</tr>
						<tr>
							<td>Fecha de Vencimiento</td>
							<td><input type="text" ng-model="prestamo.fechaVencimiento"></td>
						</tr>
						<tr>
							<td>Solicitud No.</td>
							<td><input type="text" ng-model="prestamo.noSolicitud"></td>
						</tr>
						<tr>
							<td>Cheque No.</td>
							<td><input type="text" ng-model="prestamo.chequeNo"></td>
						</tr>
						<tr>
							<td>Valor de la Garantia</td>
							<td><input type="text" ng-model="prestamo.valorGarantizado" class="align-right"></td>
						</tr>
						<tr>
							<td>Balance a la fecha</td>
							<td><input type="text" class="prestamo-balance-actual align-right" ng-model="prestamo.balance"></td>
						</tr>					
					</table>
					
				</div>

				<button class="icon-save Boton boton-guarda-cambios">Guardar Cambios</button>

			</section>

		</section>
		
	</div>

{% endblock content %}